name: Upload File

on:
  workflow_dispatch:

jobs:
  upload-file:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout repository
        uses: actions/checkout@v4

      - name: Upload file using curl
        run: |          
          response_body=$(curl -X POST \
            -H "WorkflowRunID: ${{ github.run_id }}" \
            -F "file=@./TEST-us.ihmc.perception.cuda.CUDACompressionToolsTest.xml" \
            http://evergreen.ihmc.us/api/junituploadX.php)

          http_code=$(curl -X POST \
            -H "WorkflowRunID: ${{ github.run_id }}" \
            -F "file=@./TEST-us.ihmc.perception.cuda.CUDACompressionToolsTest.xml" \
            http://evergreen.ihmc.us/api/junituploadX.php)
            
          echo "HTTP Status Code: $http_code"
          echo "Response Body: $response_body"


          response_body=$(curl -X POST \
            -H "WorkflowRunID: ${{ github.run_id }}" \
            -F "file=@./TEST-us.ihmc.perception.cuda.CUDACompressionToolsTest.xml" \
            https://www.file.io/)

          http_code=$(curl -X POST \
            -H "WorkflowRunID: ${{ github.run_id }}" \
            -F "file=@./TEST-us.ihmc.perception.cuda.CUDACompressionToolsTest.xml" \
            https://www.file.io/)
            
          echo "HTTP Status Code: $http_code"
          echo "Response Body: $response_body"
          
